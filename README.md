# STT CLI アプリケーション

VOSKライブラリを使用した音声認識のコマンドラインインターフェイスアプリケーションです。このツールは、マイクからのオーディオ入力をリアルタイムで音声認識します。

## 機能

- マイクからの音声をリアルタイムで認識
- 日本語と英語のモデルサポート
- 利用可能なオーディオ入力デバイスのリスト表示
- テストモードでの録音とWAVファイルの保存
- JSON形式での出力

## 使い方

```
stt_cli [options]
```

### オプション

- `-l` - 利用可能な入力オーディオデバイスをJSON形式で一覧表示
- `-d index` - 使用するオーディオデバイスのインデックスを指定（デフォルト：0）
- `-m path` - 音声認識モデルのパスを指定（デフォルト：model/vosk-model-small-ja-0.22）
- `-test` - 10秒間の音声を録音し、「recorded_converted.wav」としてWAVファイルに保存
- `-textonly` - 最終認識結果のみを表示（部分的な中間結果を表示しない）
- `-h` - ヘルプメッセージを表示

### 例

デフォルト設定でアプリケーションを実行（デバイス0、日本語モデル）:
```
stt_cli
```

別のオーディオデバイス（インデックス2）で実行:
```
stt_cli -d 2
```

軽量版モデルを使用:
```
stt_cli -m model/vosk-model-small-ja-0.22
```

通常版モデルを使用:
```
stt_cli -m model/vosk-model-ja-0.22
```

英語のモデルを使用:
```
stt_cli -m model/vosk-model-small-en-us-0.15
```

利用可能なオーディオデバイスのリストを表示:
```
stt_cli -l
```

テストモードで実行（10秒間録音してWAVファイルを保存）:
```
stt_cli -test
```

## 必要条件

- Windows OS
- VC++ ランタイム
- オーディオ入力デバイス（マイク）
- VOSKモデル（下記参照）

## モデルのダウンロード

### 自動ダウンロード（推奨）
`download_model.bat`を実行すると、日本語モデルを自動的にダウンロードできます：
```
download_model.bat
```

このバッチファイルは以下のモデルをダウンロードします：
- `vosk-model-small-ja-0.22` - 軽量版（約50MB）
- `vosk-model-ja-0.22` - 通常版（約1.5GB、高精度）

### 手動ダウンロード
[VOSK Models](https://alphacephei.com/vosk/models)から直接ダウンロードして、`model`フォルダに展開することも可能です。

## ビルド方法

このプロジェクトをビルドするには、Visual Studioを使用してソリューションファイル（`stt_cli.sln`）を開き、ビルドしてください。

## 利用可能なモデル

このアプリケーションは、以下のVOSKモデルと互換性があります：

- `vosk-model-small-ja-0.22` - 日本語軽量版（約50MB）
- `vosk-model-ja-0.22` - 日本語通常版（約1.5GB、高精度）
- `vosk-model-small-en-us-0.15` - 英語軽量版
